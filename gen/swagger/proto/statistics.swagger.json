{
  "swagger": "2.0",
  "info": {
    "title": "proto/statistics.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "StatisticsService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "ai_poistatisticsv1RecentInteraction": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "title": "\"search\", \"favorite\", \"itinerary\""
        },
        "description": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "cityName": {
          "type": "string"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "title": "Recent user interactions"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AchievementBadges": {
      "type": "object",
      "properties": {
        "earnedBadges": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Badge"
          }
        },
        "availableBadges": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Badge"
          }
        }
      },
      "title": "Achievement badges"
    },
    "v1ActivityDataPoint": {
      "type": "object",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "searches": {
          "type": "integer",
          "format": "int32"
        },
        "favorites": {
          "type": "integer",
          "format": "int32"
        },
        "itineraryActions": {
          "type": "integer",
          "format": "int32"
        },
        "chatMessages": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1ActivitySummary": {
      "type": "object",
      "properties": {
        "totalSearches": {
          "type": "integer",
          "format": "int32"
        },
        "totalFavorites": {
          "type": "integer",
          "format": "int32"
        },
        "totalItineraryActions": {
          "type": "integer",
          "format": "int32"
        },
        "mostActiveHour": {
          "type": "integer",
          "format": "int32"
        },
        "mostActiveDay": {
          "type": "string"
        }
      }
    },
    "v1Badge": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "iconUrl": {
          "type": "string"
        },
        "earnedAt": {
          "type": "string",
          "format": "date-time"
        },
        "progress": {
          "type": "integer",
          "format": "int32",
          "title": "0-100 for progress towards earning"
        },
        "target": {
          "type": "integer",
          "format": "int32",
          "title": "Target value to earn the badge"
        }
      }
    },
    "v1CategoryTrend": {
      "type": "object",
      "properties": {
        "category": {
          "type": "string"
        },
        "searchCount": {
          "type": "integer",
          "format": "int32"
        },
        "growthPercentage": {
          "type": "number",
          "format": "double"
        },
        "rank": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1CityInteractionStats": {
      "type": "object",
      "properties": {
        "cityId": {
          "type": "string"
        },
        "cityName": {
          "type": "string"
        },
        "searchCount": {
          "type": "integer",
          "format": "int32"
        },
        "poisFavorited": {
          "type": "integer",
          "format": "int32"
        },
        "itinerariesCreated": {
          "type": "integer",
          "format": "int32"
        },
        "lastInteraction": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "City interaction statistics"
    },
    "v1CityStats": {
      "type": "object",
      "properties": {
        "cityId": {
          "type": "string"
        },
        "cityName": {
          "type": "string"
        },
        "searchCount": {
          "type": "integer",
          "format": "int32"
        },
        "poiCount": {
          "type": "integer",
          "format": "int32"
        },
        "popularityScore": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1CountryStats": {
      "type": "object",
      "properties": {
        "countryCode": {
          "type": "string"
        },
        "countryName": {
          "type": "string"
        },
        "userCount": {
          "type": "integer",
          "format": "int32"
        },
        "searchCount": {
          "type": "integer",
          "format": "int32"
        },
        "percentageOfTotal": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1DailyActivity": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "searches": {
          "type": "integer",
          "format": "int32"
        },
        "favoritesAdded": {
          "type": "integer",
          "format": "int32"
        },
        "itinerariesCreated": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1DetailedPOIStatistics": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "totalPoiSearches": {
          "type": "integer",
          "format": "int32"
        },
        "favoritePoisCount": {
          "type": "integer",
          "format": "int32"
        },
        "visitedCitiesCount": {
          "type": "integer",
          "format": "int32"
        },
        "topCategories": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "cityInteractions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CityInteractionStats"
          }
        },
        "searchPatterns": {
          "$ref": "#/definitions/v1SearchPatterns"
        },
        "timeAnalytics": {
          "$ref": "#/definitions/v1TimeBasedAnalytics"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Detailed POI statistics"
    },
    "v1ErrorBreakdown": {
      "type": "object",
      "properties": {
        "errorType": {
          "type": "string"
        },
        "count": {
          "type": "integer",
          "format": "int32"
        },
        "percentage": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1ErrorMetrics": {
      "type": "object",
      "properties": {
        "totalErrorsToday": {
          "type": "integer",
          "format": "int32"
        },
        "totalErrorsThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "errorRatePercentage": {
          "type": "number",
          "format": "double"
        },
        "errorBreakdown": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ErrorBreakdown"
          }
        }
      }
    },
    "v1FeatureMetric": {
      "type": "object",
      "properties": {
        "featureName": {
          "type": "string"
        },
        "usageCount": {
          "type": "integer",
          "format": "int32"
        },
        "adoptionRate": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1FeatureUsage": {
      "type": "object",
      "properties": {
        "semanticSearches": {
          "type": "integer",
          "format": "int32"
        },
        "favoritesAdded": {
          "type": "integer",
          "format": "int32"
        },
        "itinerariesCreated": {
          "type": "integer",
          "format": "int32"
        },
        "listsCreated": {
          "type": "integer",
          "format": "int32"
        },
        "chatSessions": {
          "type": "integer",
          "format": "int32"
        },
        "featureMetrics": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1FeatureMetric"
          }
        }
      }
    },
    "v1GeographicDistribution": {
      "type": "object",
      "properties": {
        "countryStats": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CountryStats"
          }
        },
        "cityStats": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CityStats"
          }
        }
      }
    },
    "v1GetDetailedPOIStatisticsResponse": {
      "type": "object",
      "properties": {
        "statistics": {
          "$ref": "#/definitions/v1DetailedPOIStatistics"
        },
        "predictions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Prediction"
          }
        }
      }
    },
    "v1GetLandingPageStatisticsResponse": {
      "type": "object",
      "properties": {
        "statistics": {
          "$ref": "#/definitions/v1LandingPageUserStats"
        }
      }
    },
    "v1GetMainPageStatisticsResponse": {
      "type": "object",
      "properties": {
        "statistics": {
          "$ref": "#/definitions/v1MainPageStatistics"
        }
      }
    },
    "v1GetSystemAnalyticsResponse": {
      "type": "object",
      "properties": {
        "analytics": {
          "$ref": "#/definitions/v1SystemAnalytics"
        }
      }
    },
    "v1GetUserActivityAnalyticsResponse": {
      "type": "object",
      "properties": {
        "activityData": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ActivityDataPoint"
          }
        },
        "summary": {
          "$ref": "#/definitions/v1ActivitySummary"
        }
      }
    },
    "v1HourlyActivity": {
      "type": "object",
      "properties": {
        "hour": {
          "type": "integer",
          "format": "int32",
          "title": "0-23"
        },
        "activityCount": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1LandingPageUserStats": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "searchesThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "newFavoritesThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "itinerariesCreatedThisMonth": {
          "type": "integer",
          "format": "int32"
        },
        "recentlySearchedCities": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "recentInteractions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/ai_poistatisticsv1RecentInteraction"
          }
        },
        "recommendations": {
          "$ref": "#/definitions/v1PersonalizedRecommendations"
        },
        "badges": {
          "$ref": "#/definitions/v1AchievementBadges"
        }
      },
      "title": "Landing page user statistics"
    },
    "v1MainPageStatistics": {
      "type": "object",
      "properties": {
        "totalPois": {
          "type": "string",
          "format": "int64"
        },
        "totalCities": {
          "type": "string",
          "format": "int64"
        },
        "totalUsers": {
          "type": "string",
          "format": "int64"
        },
        "totalItineraries": {
          "type": "string",
          "format": "int64"
        },
        "totalSearchesToday": {
          "type": "string",
          "format": "int64"
        },
        "activeUsersToday": {
          "type": "string",
          "format": "int64"
        },
        "recentActivity": {
          "$ref": "#/definitions/v1RecentActivity"
        },
        "popularDestinations": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1PopularDestination"
          }
        },
        "trendingCategories": {
          "$ref": "#/definitions/v1TrendingCategories"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Main page statistics (public facing)"
    },
    "v1MetricUpdate": {
      "type": "object",
      "properties": {
        "metricName": {
          "type": "string"
        },
        "value": {
          "type": "number",
          "format": "double"
        },
        "changeType": {
          "type": "string",
          "title": "\"increase\", \"decrease\", \"stable\""
        },
        "previousValue": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1MonthlyActivity": {
      "type": "object",
      "properties": {
        "year": {
          "type": "integer",
          "format": "int32"
        },
        "month": {
          "type": "integer",
          "format": "int32"
        },
        "totalActivity": {
          "type": "integer",
          "format": "int32"
        },
        "growthPercentage": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1PerformanceMetrics": {
      "type": "object",
      "properties": {
        "cpuUsagePercentage": {
          "type": "number",
          "format": "double"
        },
        "memoryUsagePercentage": {
          "type": "number",
          "format": "double"
        },
        "diskUsagePercentage": {
          "type": "number",
          "format": "double"
        },
        "activeDatabaseConnections": {
          "type": "integer",
          "format": "int32"
        },
        "averageDbQueryTimeMs": {
          "type": "number",
          "format": "double"
        },
        "cacheHitRatePercentage": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1PersonalizedRecommendations": {
      "type": "object",
      "properties": {
        "suggestedCities": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "suggestedCategories": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "recommendationReason": {
          "type": "string"
        }
      },
      "title": "Personalized recommendations"
    },
    "v1PopularDestination": {
      "type": "object",
      "properties": {
        "cityId": {
          "type": "string"
        },
        "cityName": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "searchCount": {
          "type": "integer",
          "format": "int32"
        },
        "userCount": {
          "type": "integer",
          "format": "int32"
        },
        "growthPercentage": {
          "type": "number",
          "format": "double"
        }
      },
      "title": "Popular destinations"
    },
    "v1Prediction": {
      "type": "object",
      "properties": {
        "metric": {
          "type": "string"
        },
        "predictedValue": {
          "type": "number",
          "format": "double"
        },
        "confidenceLevel": {
          "type": "string"
        },
        "timeHorizon": {
          "type": "string"
        }
      }
    },
    "v1RecentActivity": {
      "type": "object",
      "properties": {
        "searchesLastHour": {
          "type": "integer",
          "format": "int32"
        },
        "newUsersToday": {
          "type": "integer",
          "format": "int32"
        },
        "itinerariesCreatedToday": {
          "type": "integer",
          "format": "int32"
        },
        "poisFavoritedToday": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Recent activity summary"
    },
    "v1SearchPatterns": {
      "type": "object",
      "properties": {
        "frequentKeywords": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "preferredCategories": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "preferredPriceRange": {
          "type": "string"
        },
        "averageSearchRadius": {
          "type": "number",
          "format": "double"
        },
        "mostActiveTimeOfDay": {
          "type": "string"
        },
        "mostActiveDayOfWeek": {
          "type": "string"
        }
      },
      "title": "Search patterns analysis"
    },
    "v1StatisticsEvent": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "title": "\"update\", \"metric\", \"alert\""
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "mainStats": {
          "$ref": "#/definitions/v1MainPageStatistics"
        },
        "metricUpdate": {
          "$ref": "#/definitions/v1MetricUpdate"
        },
        "systemAlert": {
          "$ref": "#/definitions/v1SystemAlert"
        }
      },
      "title": "Streaming statistics event"
    },
    "v1SystemAlert": {
      "type": "object",
      "properties": {
        "alertType": {
          "type": "string",
          "title": "\"high_load\", \"error_spike\", \"low_performance\""
        },
        "message": {
          "type": "string"
        },
        "severity": {
          "type": "string",
          "title": "\"low\", \"medium\", \"high\", \"critical\""
        },
        "details": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      }
    },
    "v1SystemAnalytics": {
      "type": "object",
      "properties": {
        "userGrowth": {
          "$ref": "#/definitions/v1UserGrowthMetrics"
        },
        "usageMetrics": {
          "$ref": "#/definitions/v1UsageMetrics"
        },
        "performanceMetrics": {
          "$ref": "#/definitions/v1PerformanceMetrics"
        },
        "errorMetrics": {
          "$ref": "#/definitions/v1ErrorMetrics"
        },
        "geographicDistribution": {
          "$ref": "#/definitions/v1GeographicDistribution"
        },
        "featureUsage": {
          "$ref": "#/definitions/v1FeatureUsage"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "System-wide analytics (admin only)"
    },
    "v1TimeBasedAnalytics": {
      "type": "object",
      "properties": {
        "hourlyActivity": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1HourlyActivity"
          }
        },
        "dailyActivity": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DailyActivity"
          }
        },
        "monthlyActivity": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1MonthlyActivity"
          }
        }
      },
      "title": "Time-based analytics"
    },
    "v1TrendingCategories": {
      "type": "object",
      "properties": {
        "categories": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CategoryTrend"
          }
        },
        "timePeriod": {
          "type": "string",
          "title": "\"24h\", \"7d\", \"30d\""
        }
      },
      "title": "Trending categories"
    },
    "v1UsageMetrics": {
      "type": "object",
      "properties": {
        "totalSearches": {
          "type": "string",
          "format": "int64"
        },
        "searchesToday": {
          "type": "integer",
          "format": "int32"
        },
        "searchesThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "averageSearchesPerUser": {
          "type": "number",
          "format": "double"
        },
        "totalApiCalls": {
          "type": "string",
          "format": "int64"
        },
        "averageResponseTimeMs": {
          "type": "number",
          "format": "double"
        },
        "peakConcurrentUsers": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1UserGrowthMetrics": {
      "type": "object",
      "properties": {
        "totalUsers": {
          "type": "string",
          "format": "int64"
        },
        "newUsersToday": {
          "type": "integer",
          "format": "int32"
        },
        "newUsersThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "newUsersThisMonth": {
          "type": "integer",
          "format": "int32"
        },
        "growthRateWeekly": {
          "type": "number",
          "format": "double"
        },
        "growthRateMonthly": {
          "type": "number",
          "format": "double"
        },
        "activeUsersToday": {
          "type": "integer",
          "format": "int32"
        },
        "activeUsersThisWeek": {
          "type": "integer",
          "format": "int32"
        },
        "retentionRateWeekly": {
          "type": "number",
          "format": "double"
        },
        "retentionRateMonthly": {
          "type": "number",
          "format": "double"
        }
      }
    }
  }
}
